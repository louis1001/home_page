import{p as Et,i as It,_ as V}from"../chunks/preload-helper.COjAt4i3.js";import{a as ke,t as Ae}from"../chunks/disclose-version.CRNIhWkV.js";import{c as rn,b as sn,h as pe,e as je,g as on,o as ln,l as an,u as qt,O as un,P as Dt,s as xe,f as Oe,Q as Ft,w as Zt,R as cn,a6 as fn,y as Tt,I as Ue,a7 as lt,a8 as dn,a3 as pn,G as Ke,a9 as at,aa as mn,t as _n,ab as hn,ac as gn,p as vn,d as bn,ad as Ut,ae as yn,af as kn,x as wn,Y as En,i as In,j as te,z as Dn,K as N,C as et,B as Ct,a4 as Be}from"../chunks/runtime.DR9MUfrK.js";import{d as Tn}from"../chunks/events.Bkoh1spf.js";import{s as K}from"../chunks/attributes.DJ0oElpd.js";let tt=null;function St(t,e){return e}function Cn(t,e,n,r){for(var i=[],s=e.length,o=0;o<s;o++)mn(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;_n(l),l.append(n),r.clear(),ae(t,e[0].prev,e[s-1].next)}hn(i,()=>{for(var u=0;u<s;u++){var p=e[u];a||(r.delete(p.k),ae(t,p.prev,p.next)),gn(p.e,!a)}})}function At(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&Ut)!==0;if(l){var u=t;o=pe?je(on(u)):u.appendChild(rn())}pe&&ln();var p=null;sn(()=>{var f=n(),_=an(f)?f:f==null?[]:qt(f),c=_.length;let d=!1;if(pe){var m=o.data===un;m!==(c===0)&&(o=Dt(),je(o),xe(!1),d=!0)}if(pe){for(var b=null,E,k=0;k<c;k++){if(Oe.nodeType===8&&Oe.data===vn){o=Oe,d=!0,xe(!1);break}var h=_[k],y=r(h,k);E=Kt(Oe,a,b,null,h,y,k,i,e),a.items.set(y,E),b=E}c>0&&je(Dt())}pe||Sn(_,a,o,i,e,r),s!==null&&(c===0?p?Ft(p):p=Zt(()=>s(o)):p!==null&&cn(p,()=>{p=null})),d&&xe(!0)}),pe&&(o=Oe)}function Sn(t,e,n,r,i,s){var fe,j,le,x;var o=(i&kn)!==0,a=(i&(lt|at))!==0,l=t.length,u=e.items,p=e.first,f=p,_,c=null,d,m=[],b=[],E,k,h,y;if(o)for(y=0;y<l;y+=1)E=t[y],k=s(E,y),h=u.get(k),h!==void 0&&((fe=h.a)==null||fe.measure(),(d??(d=new Set)).add(h));for(y=0;y<l;y+=1){if(E=t[y],k=s(E,y),h=u.get(k),h===void 0){var se=f?f.e.nodes_start:n;c=Kt(se,e,c,c===null?e.first:c.next,E,k,y,r,i),u.set(k,c),m=[],b=[],f=c.next;continue}if(a&&An(h,E,y,i),h.e.f&fn&&(Ft(h.e),o&&((j=h.a)==null||j.unfix(),(d??(d=new Set)).delete(h))),h!==f){if(_!==void 0&&_.has(h)){if(m.length<b.length){var $=b[0],D;c=$.prev;var B=m[0],X=m[m.length-1];for(D=0;D<m.length;D+=1)Pt(m[D],$,n);for(D=0;D<b.length;D+=1)_.delete(b[D]);ae(e,B.prev,X.next),ae(e,c,B),ae(e,X,$),f=$,c=X,y-=1,m=[],b=[]}else _.delete(h),Pt(h,f,n),ae(e,h.prev,h.next),ae(e,h,c===null?e.first:c.next),ae(e,c,h),c=h;continue}for(m=[],b=[];f!==null&&f.k!==k;)(_??(_=new Set)).add(f),b.push(f),f=f.next;if(f===null)continue;h=f}m.push(h),c=h,f=h.next}if(f!==null||_!==void 0){for(var q=_===void 0?[]:qt(_);f!==null;)q.push(f),f=f.next;var ne=q.length;if(ne>0){var oe=i&Ut&&l===0?n:null;if(o){for(y=0;y<ne;y+=1)(le=q[y].a)==null||le.measure();for(y=0;y<ne;y+=1)(x=q[y].a)==null||x.fix()}Cn(e,q,oe,u)}}o&&yn(()=>{var Q;if(d!==void 0)for(h of d)(Q=h.a)==null||Q.apply()}),Tt.first=e.first&&e.first.e,Tt.last=c&&c.e}function An(t,e,n,r){r&lt&&Ue(t.v,e),r&at?Ue(t.i,n):t.i=n}function Kt(t,e,n,r,i,s,o,a,l){var u=tt;try{var p=(l&lt)!==0,f=(l&dn)===0,_=p?f?pn(i):Ke(i):i,c=l&at?Ke(o):o,d={i:c,v:_,k:s,a:null,e:null,prev:n,next:r};return tt=d,d.e=Zt(()=>a(t,_,c),pe),d.e.prev=n&&n.e,d.e.next=r&&r.e,n===null?e.first=d:(n.next=d,n.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{tt=u}}function Pt(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=bn(s);i.before(s),s=o}}function ae(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Y(){}const ut=t=>t;function Lt(t,e){for(const n in e)t[n]=e[n];return t}function Gt(t){return t()}function J(t){t.forEach(Gt)}function Qe(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e}function Pn(t){return Object.keys(t).length===0}function Ln(t,...e){if(t==null)return Y;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ee(t,e,n){t.$$.on_destroy.push(Ln(e,n))}function Ve(t){return t&&Qe(t.destroy)?t.destroy:Y}let ct=()=>globalThis.performance.now(),ft=t=>requestAnimationFrame(t);const De=new Set;function Jt(t){De.forEach(e=>{e.c(t)||(De.delete(e),e.f())}),De.size!==0&&ft(Jt)}function dt(t){let e;return De.size===0&&ft(Jt),{promise:new Promise(n=>{De.add(e={c:t,f:n})}),abort(){De.delete(e)}}}function Te(t,e){t.appendChild(e)}function z(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode.removeChild(t)}function O(t){return document.createElement(t)}function Rn(t){return document.createTextNode(t)}function Ne(){return Rn("")}function G(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function L(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n)}function W(t,e,n){t.classList[n?"add":"remove"](e)}function On(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}let Ie,pt=0,it={};function Qt(t,e,n,r,i,s,o,a=0){const l=16.666/r;let u=`{
`;for(let c=0;c<=1;c+=l){const d=e+(n-e)*s(c);u+=c*100+`%{${o(d,1-d)}}
`}const p=u+`100% {${o(n,1-n)}}
}`,f=`_bp_${Math.round(Math.random()*1e9)}_${a}`;if(!it[f]){if(!Ie){const c=O("style");document.head.appendChild(c),Ie=c.sheet}it[f]=!0,Ie.insertRule(`@keyframes ${f} ${p}`,Ie.cssRules.length)}const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${f} ${r}ms linear ${i}ms 1 both`,pt+=1,f}function st(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("_bp")===-1).join(", "),e&&!--pt&&Mn()}function Mn(){ft(()=>{if(pt)return;let t=Ie.cssRules.length;for(;t--;)Ie.deleteRule(t);it={}})}let mt;function He(t){mt=t}const ze=[],Rt=[],Fe=[],Ot=[],zn=Promise.resolve();let ot=!1;function Hn(){ot||(ot=!0,zn.then(jt))}function me(t){Fe.push(t)}const nt=new Set;let qe=0;function jt(){const t=mt;do{for(;qe<ze.length;){const e=ze[qe];qe++,He(e),$n(e.$$)}for(He(null),ze.length=0,qe=0;Rt.length;)Rt.pop()();for(let e=0;e<Fe.length;e+=1){const n=Fe[e];nt.has(n)||(nt.add(n),n())}Fe.length=0}while(ze.length);for(;Ot.length;)Ot.pop()();ot=!1,nt.clear(),He(t)}function $n(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(me)}}let Me;function xt(){return Me||(Me=Promise.resolve(),Me.then(()=>{Me=null})),Me}function Ge(t,e,n){t.dispatchEvent(On(`${e?"intro":"outro"}${n}`))}const Ze=new Set;let ue;function _e(){ue={r:0,c:[],p:ue}}function he(){ue.r||J(ue.c),ue=ue.p}function C(t,e){t&&t.i&&(Ze.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(Ze.has(t))return;Ze.add(t),ue.c.push(()=>{Ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const en={duration:0};function tn(t,e,n){let r=e(t,n),i=!1,s,o,a=0;function l(){s&&st(t,s)}function u(){const{delay:f=0,duration:_=300,easing:c=ut,tick:d=Y,css:m}=r||en;m&&(s=Qt(t,0,1,_,f,c,m,a++)),d(0,1);const b=ct()+f,E=b+_;o&&o.abort(),i=!0,me(()=>Ge(t,!0,"start")),o=dt(k=>{if(i){if(k>=E)return d(1,0),Ge(t,!0,"end"),l(),i=!1;if(k>=b){const h=c((k-b)/_);d(h,1-h)}}return i})}let p=!1;return{start(){p||(p=!0,st(t),Qe(r)?(r=r(),xt().then(u)):u())},invalidate(){p=!1},end(){i&&(l(),i=!1)}}}function Ce(t,e,n){let r=e(t,n),i=!0,s;const o=ue;o.r+=1;function a(){const{delay:l=0,duration:u=300,easing:p=ut,tick:f=Y,css:_}=r||en;_&&(s=Qt(t,1,0,u,l,p,_));const c=ct()+l,d=c+u;me(()=>Ge(t,!1,"start")),dt(m=>{if(i){if(m>=d)return f(0,1),Ge(t,!1,"end"),--o.r||J(o.c),!1;if(m>=c){const b=p((m-c)/u);f(1-b,b)}}return i})}return Qe(r)?xt().then(()=>{r=r(),a()}):a(),{end(l){l&&r.tick&&r.tick(1,0),i&&(s&&st(t,s),i=!1)}}}function Pe(t){t&&t.c()}function ve(t,e,n,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=t.$$;i&&i.m(e,n),r||me(()=>{const l=s.map(Gt).filter(Qe);o?o.push(...l):J(l),t.$$.on_mount=[]}),a.forEach(me)}function be(t,e){const n=t.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nn(t,e){t.$$.dirty[0]===-1&&(ze.push(t),Hn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ye(t,e,n,r,i,s,o,a=[-1]){const l=mt;He(t);const u=t.$$={fragment:null,ctx:null,props:s,update:Y,not_equal:i,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:{},dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let p=!1;u.ctx=n?n(t,e.props||{},(f,_,...c)=>{const d=c.length?c[0]:_;return u.ctx&&i(u.ctx[f],u.ctx[f]=d)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](d),p&&Nn(t,f)),_}):[],u.update(),p=!0,J(u.before_update),u.fragment=r?r(u.ctx):!1,e.target&&(u.fragment&&u.fragment.c(),ve(t,e.target,e.anchor,e.customElement),jt()),He(l)}class Xe{$destroy(){be(this,1),this.$destroy=Y}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function _t(t){const e=t-1;return e*e*e+1}function ce(t,{delay:e=0,duration:n=400,easing:r=_t,x:i=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,u=a.transform==="none"?"":a.transform,p=l*(1-o);return{delay:e,duration:n,easing:r,css:(f,_)=>`
			transform: ${u} translate(${(1-f)*i}px, ${(1-f)*s}px);
			opacity: ${l-p*_}`}}const we=[];function ht(t,e=Y){let n;const r=new Set;function i(a){if(ge(t,a)&&(t=a,n)){const l=!we.length;for(const u of r)u[1](),we.push(u,t);if(l){for(let u=0;u<we.length;u+=2)we[u][0](we[u+1]);we.length=0}}}function s(a){i(a(t))}function o(a,l=Y){const u=[a,l];return r.add(u),r.size===1&&(n=e(i)||Y),a(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function nn(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(Array.isArray(t)){const r=e.map((i,s)=>nn(t[s],i));return i=>r.map(s=>s(i))}if(n==="number"){const r=e-t;return i=>t+i*r}}function Mt(t,e={}){const n=ht(t);let r,i=t;function s(o,a){if(t==null)return n.set(t=o),Promise.resolve();i=o;let l=r,u=!1,{delay:p=0,duration:f=400,easing:_=ut,interpolate:c=nn}=Lt(Lt({},e),a);if(f===0)return l&&(l.abort(),l=null),n.set(t=i),Promise.resolve();const d=ct()+p;let m;return r=dt(b=>{if(b<d)return!0;u||(m=c(t,o),typeof f=="function"&&(f=f(t,o)),u=!0),l&&(l.abort(),l=null);const E=b-d;return E>f?(n.set(t=o),!1):(n.set(t=m(_(E/f))),!0)}),r.promise}return{set:s,update:(o,a)=>s(o(i,t),a),subscribe:n.subscribe}}const Je=ht(0);var Bt;const Vn=(Bt=globalThis.matchMedia)==null?void 0:Bt.call(globalThis,"(prefers-reduced-motion: reduce)").matches,rt=t=>({easing:_t,duration:Vn?0:t}),Se=t=>!t.thumb||`url(${t.thumb})`,$e=(t,e)=>{if(e){typeof e=="string"&&(e=JSON.parse(e));for(const n in e)t.setAttribute(n,e[n])}};function zt(t){let e,n,r;return{c(){e=O("div"),e.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',A(e,"class","bp-load"),L(e,"background-image",Se(t[0]))},m(i,s){z(i,e,s),r=!0},p(i,s){s&1&&L(e,"background-image",Se(i[0]))},i(i){r||(n&&n.end(1),r=!0)},o(i){i&&(n=Ce(e,ce,{duration:480})),r=!1},d(i){i&&H(e),i&&n&&n.end()}}}function Ht(t){let e,n;return{c(){e=O("div"),A(e,"class","bp-load"),L(e,"background-image",Se(t[0]))},m(r,i){z(r,e,i)},p(r,i){i&1&&L(e,"background-image",Se(r[0]))},i(r){n||me(()=>{n=tn(e,ce,{duration:480}),n.start()})},o:Y,d(r){r&&H(e)}}}function Yn(t){let e,n,r=!t[1]&&zt(t),i=t[2]&&Ht(t);return{c(){r&&r.c(),e=Ne(),i&&i.c(),n=Ne()},m(s,o){r&&r.m(s,o),z(s,e,o),i&&i.m(s,o),z(s,n,o)},p(s,[o]){s[1]?r&&(_e(),R(r,1,1,()=>{r=null}),he()):r?(r.p(s,o),o&2&&C(r,1)):(r=zt(s),r.c(),C(r,1),r.m(e.parentNode,e)),s[2]?i?(i.p(s,o),o&4&&C(i,1)):(i=Ht(s),i.c(),C(i,1),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(s){C(r),C(i)},o(s){R(r)},d(s){r&&r.d(s),s&&H(e),i&&i.d(s),s&&H(n)}}}function Xn(t,e,n){let r;Ee(t,Je,o=>n(2,r=o));let{activeItem:i}=e,{loaded:s}=e;return t.$$set=o=>{"activeItem"in o&&n(0,i=o.activeItem),"loaded"in o&&n(1,s=o.loaded)},[i,s,r]}class gt extends Xe{constructor(e){super(),Ye(this,e,Xn,Yn,ge,{activeItem:0,loaded:1})}}function $t(t){let e,n,r,i,s,o;return{c(){e=O("img"),A(e,"sizes",n=t[8].sizes||`${t[1]}px`),A(e,"alt",t[7].alt)},m(a,l){z(a,e,l),i=!0,s||(o=[Ve(t[21].call(null,e)),G(e,"error",t[27])],s=!0)},p(a,l){(!i||l[0]&2&&n!==(n=a[8].sizes||`${a[1]}px`))&&A(e,"sizes",n)},i(a){i||(r&&r.end(1),i=!0)},o(a){r=Ce(e,ce,{}),i=!1},d(a){a&&H(e),a&&r&&r.end(),s=!1,J(o)}}}function Nt(t){let e,n;return e=new gt({props:{activeItem:t[7],loaded:t[2]}}),{c(){Pe(e.$$.fragment)},m(r,i){ve(e,r,i),n=!0},p(r,i){const s={};i[0]&4&&(s.loaded=r[2]),e.$set(s)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){be(e,r)}}}function Wn(t){let e,n,r,i=`translate3d(${t[0][0]/-2+t[6][0]}px, ${t[0][1]/-2+t[6][1]}px, 0)`,s,o,a,l=t[2]&&$t(t),u=t[3]&&Nt(t);return{c(){e=O("div"),n=O("div"),l&&l.c(),r=Ne(),u&&u.c(),A(n,"class","bp-img"),L(n,"width",t[0][0]+"px"),L(n,"height",t[0][1]+"px"),W(n,"bp-drag",t[4]),W(n,"bp-canzoom",t[11]>1&&t[0][0]<t[12]),L(n,"background-image",Se(t[7])),L(n,"transform",i),A(e,"class","bp-img-wrap"),W(e,"bp-close",t[5])},m(p,f){z(p,e,f),Te(e,n),l&&l.m(n,null),Te(n,r),u&&u.m(n,null),s=!0,o||(a=[Ve(t[20].call(null,n)),G(e,"wheel",t[15]),G(e,"pointerdown",t[16]),G(e,"pointermove",t[17]),G(e,"pointerup",t[19]),G(e,"pointercancel",t[18])],o=!0)},p(p,f){p[2]?l?(l.p(p,f),f[0]&4&&C(l,1)):(l=$t(p),l.c(),C(l,1),l.m(n,r)):l&&(_e(),R(l,1,1,()=>{l=null}),he()),p[3]?u?(u.p(p,f),f[0]&8&&C(u,1)):(u=Nt(p),u.c(),C(u,1),u.m(n,null)):u&&(_e(),R(u,1,1,()=>{u=null}),he()),(!s||f[0]&1)&&L(n,"width",p[0][0]+"px"),(!s||f[0]&1)&&L(n,"height",p[0][1]+"px"),(!s||f[0]&16)&&W(n,"bp-drag",p[4]),(!s||f[0]&6145)&&W(n,"bp-canzoom",p[11]>1&&p[0][0]<p[12]),f[0]&65&&i!==(i=`translate3d(${p[0][0]/-2+p[6][0]}px, ${p[0][1]/-2+p[6][1]}px, 0)`)&&L(n,"transform",i),(!s||f[0]&32)&&W(e,"bp-close",p[5])},i(p){s||(C(l),C(u),s=!0)},o(p){R(l),R(u),s=!1},d(p){p&&H(e),l&&l.d(),u&&u.d(),o=!1,J(a)}}}function Bn(t,e,n){let r,i,s,o;Ee(t,Je,g=>n(26,s=g));let{props:a}=e,{smallScreen:l}=e,{activeItem:u,opts:p,prev:f,next:_,zoomed:c,container:d}=a;Ee(t,c,g=>n(25,r=g));let m=u.maxZoom||p.maxZoom||10,b=a.calculateDimensions(u),E=b[0],k,h,y,se,$=0,D,B,X,q,ne,oe,fe;const j=+u.width,le=[],x=new Map,Q=Mt(b,rt(400));Ee(t,Q,g=>n(0,o=g));const ee=Mt([0,0],rt(400));Ee(t,ee,g=>n(6,i=g));const Le=([g,T],P=o)=>{const I=(P[0]-d.w)/2,M=(P[1]-d.h)/2;return I<0?g=0:g>I?l?(g=D?I+(g-I)/10:I,g>I+20&&n(4,D=f())):g=I:g<-I&&(l?(g=D?-I-(-I-g)/10:-I,g<-I-20&&n(4,D=_())):g=-I),M<0?T=0:T>M?T=M:T<-M&&(T=-M),[g,T]};function ye(g=m,T){if(s)return;const P=b[0]*m;let I=o[0]+o[0]*g,M=o[1]+o[1]*g;if(g>0)I>P&&(I=P,M=b[1]*m),I>j&&(I=j,M=+u.height);else if(I<b[0])return Q.set(b),ee.set([0,0]);let{x:ie,y:Re,width:vt,height:bt}=se.getBoundingClientRect();const yt=T?T.clientX-ie-vt/2:0,kt=T?T.clientY-Re-bt/2:0;ie=-yt*(I/vt)+yt,Re=-kt*(M/bt)+kt;const wt=[I,M];Q.set(wt).then(()=>{n(1,E=Math.round(Math.max(E,I)))}),ee.set(Le([i[0]+ie,i[1]+Re],wt))}Object.defineProperty(u,"zoom",{configurable:!0,get:()=>r,set:g=>ye(g?m:-m)});const v=g=>{p.inline&&!r||(g.preventDefault(),ye(g.deltaY/-300,g))},w=g=>{g.button!==2&&(g.preventDefault(),n(4,D=!0),x.set(g.pointerId,g),X=g.clientX,q=g.clientY,ne=i[0],oe=i[1])},S=g=>{var I;if(x.size>1)return n(4,D=!1),((I=p.noPinch)==null?void 0:I.call(p,d.el))||F(g);if(!D)return;let T=g.clientX,P=g.clientY;B=le.push({x:T,y:P})>2,T=T-X,P=P-q,r||(P<-90&&n(4,D=!p.noClose&&a.close()),Math.abs(P)<30&&(T>40&&n(4,D=f()),T<-40&&n(4,D=_()))),r&&B&&!s&&ee.set(Le([ne+T,oe+P]),{duration:0})},F=g=>{const[T,P]=x.set(g.pointerId,g).values(),I=T.clientX-P.clientX,M=T.clientY-P.clientY,ie=Math.hypot(I,M);y=y||{clientX:(T.clientX+P.clientX)/2,clientY:(T.clientY+P.clientY)/2},ye((($||ie)-ie)/-35,y),$=ie},Z=g=>x.delete(g.pointerId);function U(g){var T;if(Z(g),y&&(n(4,D=$=0),y=x.size?y:null),!!D){if(n(4,D=!1),g.target===this&&!p.noClose)return a.close();if(B){const[P,I,M]=le.slice(-3),ie=I.x-M.x,Re=I.y-M.y;Math.hypot(ie,Re)>5&&ee.set(Le([i[0]-(P.x-M.x)*5,i[1]-(P.y-M.y)*5]))}else(T=p.onImageClick)!=null&&T.call(p,d.el,u)||ye(r?-m:m,g);B=!1,le.length=0}}const de=g=>{se=g,a.setResizeFunc(()=>{n(24,b=a.calculateDimensions(u)),(p.inline||!l)&&(Q.set(b),ee.set([0,0]))}),a.loadImage(u).then(()=>{n(2,k=!0),a.preloadNext()}),setTimeout(()=>{n(3,h=!k)},250)},re=g=>{$e(g,u.attr),g.srcset=u.img},We=g=>{var T;return(T=p.onError)==null?void 0:T.call(p,d,u,g)};return t.$$set=g=>{"smallScreen"in g&&n(23,l=g.smallScreen)},t.$$.update=()=>{if(t.$$.dirty[0]&16777217&&c.set(o[0]-10>b[0]),t.$$.dirty[0]&117440512&&s&&r&&!p.intro){const g=rt(480);ee.set([0,0],g),Q.set(b,g),n(5,fe=!0)}},[o,E,k,h,D,fe,i,u,p,c,d,m,j,Q,ee,v,w,S,Z,U,de,re,a,l,b,r,s,We]}class qn extends Xe{constructor(e){super(),Ye(this,e,Bn,Wn,ge,{props:22,smallScreen:23},null,[-1,-1])}}function Fn(t){let e,n,r,i,s,o;return r=new gt({props:{activeItem:t[2],loaded:t[0]}}),{c(){e=O("div"),n=O("iframe"),Pe(r.$$.fragment),A(n,"allow","autoplay; fullscreen"),A(n,"title",t[2].title),A(e,"class","bp-if"),L(e,"width",t[1][0]+"px"),L(e,"height",t[1][1]+"px")},m(a,l){z(a,e,l),Te(e,n),ve(r,e,null),i=!0,s||(o=[Ve(t[3].call(null,n)),G(n,"load",t[5])],s=!0)},p(a,[l]){const u={};l&1&&(u.loaded=a[0]),r.$set(u),(!i||l&2)&&L(e,"width",a[1][0]+"px"),(!i||l&2)&&L(e,"height",a[1][1]+"px")},i(a){i||(C(r.$$.fragment,a),i=!0)},o(a){R(r.$$.fragment,a),i=!1},d(a){a&&H(e),be(r),s=!1,J(o)}}}function Zn(t,e,n){let{props:r}=e,i,s;const{activeItem:o}=r,a=()=>n(1,s=r.calculateDimensions(o));return a(),r.setResizeFunc(a),[i,s,o,p=>{$e(p,o.attr),p.src=o.iframe},r,()=>n(0,i=!0)]}class Un extends Xe{constructor(e){super(),Ye(this,e,Zn,Fn,ge,{props:4})}}function Kn(t){let e,n,r,i,s;return n=new gt({props:{activeItem:t[2],loaded:t[0]}}),{c(){e=O("div"),Pe(n.$$.fragment),A(e,"class","bp-vid"),L(e,"width",t[1][0]+"px"),L(e,"height",t[1][1]+"px"),L(e,"background-image",Se(t[2]))},m(o,a){z(o,e,a),ve(n,e,null),r=!0,i||(s=Ve(t[3].call(null,e)),i=!0)},p(o,[a]){const l={};a&1&&(l.loaded=o[0]),n.$set(l),(!r||a&2)&&L(e,"width",o[1][0]+"px"),(!r||a&2)&&L(e,"height",o[1][1]+"px")},i(o){r||(C(n.$$.fragment,o),r=!0)},o(o){R(n.$$.fragment,o),r=!1},d(o){o&&H(e),be(n),i=!1,s()}}}function Gn(t,e,n){let{props:r}=e,i,s;const{activeItem:o,opts:a,container:l}=r,u=()=>n(1,s=r.calculateDimensions(o));return u(),r.setResizeFunc(u),[i,s,o,f=>{let _;const c=(d,m)=>{var b;Array.isArray(m)||(m=JSON.parse(m));for(const E of m){_||(_=document.createElement((b=E.type)!=null&&b.includes("audio")?"audio":"video"),$e(_,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}),$e(_,o.attr));const k=document.createElement(d);$e(k,E),d=="source"&&(k.onError=h=>{var y;return(y=a.onError)==null?void 0:y.call(a,l,o,h)}),_.append(k)}};c("source",o.sources),c("track",o.tracks||[]),_.oncanplay=()=>n(0,i=!0),f.append(_)},r]}class Jn extends Xe{constructor(e){super(),Ye(this,e,Gn,Kn,ge,{props:4})}}function Vt(t){let e,n,r,i=t[6].i,s,o,a,l,u,p,f=Xt(t),_=t[0].length>1&&Wt(t);return{c(){e=O("div"),n=O("div"),f.c(),s=O("div"),o=O("button"),_&&_.c(),A(o,"class","bp-x"),A(o,"title","Close"),A(o,"aria-label","Close"),A(s,"class","bp-controls"),A(e,"class","bp-wrap"),W(e,"bp-zoomed",t[10]),W(e,"bp-inline",t[8]),W(e,"bp-small",t[7]),W(e,"bp-noclose",t[5].noClose)},m(c,d){z(c,e,d),Te(e,n),f.m(e,null),Te(e,s),Te(s,o),_&&_.m(s,null),l=!0,u||(p=[G(o,"click",t[1]),Ve(t[14].call(null,e))],u=!0)},p(c,d){d[0]&64&&ge(i,i=c[6].i)?(_e(),R(f,1,1,Y),he(),f=Xt(c),f.c(),C(f,1),f.m(e,s)):f.p(c,d),c[0].length>1?_?_.p(c,d):(_=Wt(c),_.c(),_.m(s,null)):_&&(_.d(1),_=null),(!l||d[0]&1024)&&W(e,"bp-zoomed",c[10]),(!l||d[0]&256)&&W(e,"bp-inline",c[8]),(!l||d[0]&128)&&W(e,"bp-small",c[7]),(!l||d[0]&32)&&W(e,"bp-noclose",c[5].noClose)},i(c){l||(r&&r.end(1),C(f),a&&a.end(1),l=!0)},o(c){c&&(r=Ce(n,ce,{duration:480})),R(f),c&&(a=Ce(s,ce,{})),l=!1},d(c){c&&H(e),c&&r&&r.end(),f.d(c),_&&_.d(),c&&a&&a.end(),u=!1,J(p)}}}function Qn(t){let e,n=(t[6].html??t[6].element.outerHTML)+"";return{c(){e=O("div"),A(e,"class","bp-html")},m(r,i){z(r,e,i),e.innerHTML=n},p(r,i){i[0]&64&&n!==(n=(r[6].html??r[6].element.outerHTML)+"")&&(e.innerHTML=n)},i:Y,o:Y,d(r){r&&H(e)}}}function jn(t){let e,n;return e=new Un({props:{props:t[13]()}}),{c(){Pe(e.$$.fragment)},m(r,i){ve(e,r,i),n=!0},p:Y,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){be(e,r)}}}function xn(t){let e,n;return e=new Jn({props:{props:t[13]()}}),{c(){Pe(e.$$.fragment)},m(r,i){ve(e,r,i),n=!0},p:Y,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){be(e,r)}}}function er(t){let e,n;return e=new qn({props:{props:t[13](),smallScreen:t[7]}}),{c(){Pe(e.$$.fragment)},m(r,i){ve(e,r,i),n=!0},p(r,i){const s={};i[0]&128&&(s.smallScreen=r[7]),e.$set(s)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){be(e,r)}}}function Yt(t){let e,n=t[6].caption+"",r,i;return{c(){e=O("div"),A(e,"class","bp-cap")},m(s,o){z(s,e,o),e.innerHTML=n,i=!0},p(s,o){(!i||o[0]&64)&&n!==(n=s[6].caption+"")&&(e.innerHTML=n)},i(s){i||(r&&r.end(1),i=!0)},o(s){r=Ce(e,ce,{duration:200}),i=!1},d(s){s&&H(e),s&&r&&r.end()}}}function Xt(t){let e,n,r,i,s,o,a,l,u;const p=[er,xn,jn,Qn],f=[];function _(d,m){return d[6].img?0:d[6].sources?1:d[6].iframe?2:3}n=_(t),r=f[n]=p[n](t);let c=t[6].caption&&Yt(t);return{c(){e=O("div"),r.c(),c&&c.c(),o=Ne(),A(e,"class","bp-inner")},m(d,m){z(d,e,m),f[n].m(e,null),c&&c.m(d,m),z(d,o,m),a=!0,l||(u=[G(e,"pointerdown",t[20]),G(e,"pointerup",t[21])],l=!0)},p(d,m){let b=n;n=_(d),n===b?f[n].p(d,m):(_e(),R(f[b],1,1,()=>{f[b]=null}),he(),r=f[n],r?r.p(d,m):(r=f[n]=p[n](d),r.c()),C(r,1),r.m(e,null)),d[6].caption?c?(c.p(d,m),m[0]&64&&C(c,1)):(c=Yt(d),c.c(),C(c,1),c.m(o.parentNode,o)):c&&(_e(),R(c,1,1,()=>{c=null}),he())},i(d){a||(C(r),me(()=>{s&&s.end(1),i=tn(e,t[12],!0),i.start()}),C(c),a=!0)},o(d){R(r),i&&i.invalidate(),s=Ce(e,t[12],!1),R(c),a=!1},d(d){d&&H(e),f[n].d(),d&&s&&s.end(),c&&c.d(d),d&&H(o),l=!1,J(u)}}}function Wt(t){let e,n=`${t[4]+1} / ${t[0].length}`,r,i,s,o;return{c(){e=O("div"),r=O("button"),i=O("button"),A(e,"class","bp-count"),A(r,"class","bp-prev"),A(r,"title","Previous"),A(r,"aria-label","Previous"),A(i,"class","bp-next"),A(i,"title","Next"),A(i,"aria-label","Next")},m(a,l){z(a,e,l),e.innerHTML=n,z(a,r,l),z(a,i,l),s||(o=[G(r,"click",t[2]),G(i,"click",t[3])],s=!0)},p(a,l){l[0]&17&&n!==(n=`${a[4]+1} / ${a[0].length}`)&&(e.innerHTML=n)},d(a){a&&H(e),a&&H(r),a&&H(i),s=!1,J(o)}}}function tr(t){let e,n,r=t[0]&&Vt(t);return{c(){r&&r.c(),e=Ne()},m(i,s){r&&r.m(i,s),z(i,e,s),n=!0},p(i,s){i[0]?r?(r.p(i,s),s[0]&1&&C(r,1)):(r=Vt(i),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(_e(),R(r,1,1,()=>{r=null}),he())},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){r&&r.d(i),i&&H(e)}}}function nr(t,e,n){let r,{items:i=void 0}=e,{target:s=void 0}=e;const o=document.documentElement;let a,l,u,p,f,_,c,d,m;const b=()=>!m.img&&!m.sources&&!m.iframe;let E;const k=v=>E=v,h={},y=ht(0);Ee(t,y,v=>n(10,r=v));const se=v=>{n(5,l=v),n(8,_=l.inline),!_&&o.scrollHeight>o.clientHeight&&o.classList.add("bp-lock"),p=document.activeElement,n(19,h.w=s.offsetWidth,h),n(19,h.h=s===document.body?globalThis.innerHeight:s.clientHeight,h),n(7,f=h.w<769),n(4,a=l.position||0),n(0,i=[]);for(let w=0;w<(l.items.length||1);w++){let S=l.items[w]||l.items;"dataset"in S?i.push({element:S,i:w,...S.dataset}):(S.i=w,i.push(S),S=S.element),l.el&&l.el===S&&n(4,a=w)}},$=()=>{var v;(v=l.onClose)==null||v.call(l,h.el,m),Je.set(!0),n(0,i=null),p==null||p.focus({preventScroll:!0})},D=()=>X(a-1),B=()=>X(a+1),X=v=>{c=v-a,n(4,a=q(v))},q=v=>(v+i.length)%i.length,ne=v=>{const{key:w,shiftKey:S}=v;if(w==="Escape")!l.noClose&&$();else if(w==="ArrowRight")B();else if(w==="ArrowLeft")D();else if(w==="Tab"){const{activeElement:F}=document;if(S||!F.controls){v.preventDefault();const{focusWrap:Z=h.el}=l,U=[...Z.querySelectorAll("*")].filter(re=>re.tabIndex>=0);let de=U.indexOf(F);de+=U.length+(S?-1:1),U[de%U.length].focus()}}},oe=({width:v=1920,height:w=1080})=>{const{scale:S=.99}=l,F=Math.min(1,h.w/v*S,h.h/w*S);return[Math.round(v*F),Math.round(w*F)]},fe=()=>{if(i){const v=i[q(a+1)],w=i[q(a-1)];!v.preload&&j(v),!w.preload&&j(w)}},j=v=>{if(v.img){const w=document.createElement("img");return w.sizes=l.sizes||`${oe(v)[0]}px`,w.srcset=v.img,v.preload=!0,w.decode().catch(S=>{})}},le=(v,w)=>!u||!i?(n(18,u=w),l.intro?ce(v,{y:w?10:-10}):x(v)):ce(v,{x:(c>0?20:-20)*(w?1:-1),duration:250}),x=v=>{let w;if(b()){const re=v.firstChild.firstChild;w=[re.clientWidth,re.clientHeight]}else w=oe(m);const S=(m.element||p).getBoundingClientRect(),F=S.left-(h.w-S.width)/2,Z=S.top-(h.h-S.height)/2,U=S.width/w[0],de=S.height/w[1];return{duration:480,easing:_t,css:(re,We)=>`transform:translate3d(${F*We}px, ${Z*We}px, 0) scale3d(${U+re*(1-U)}, ${de+re*(1-de)}, 1)`}},Q=()=>({activeItem:m,calculateDimensions:oe,loadImage:j,preloadNext:fe,opts:l,prev:D,next:B,close:$,setResizeFunc:k,zoomed:y,container:h}),ee=v=>{var F;n(19,h.el=v,h);let w;(F=l.onOpen)==null||F.call(l,h.el,m),_||globalThis.addEventListener("keydown",ne);const S=new ResizeObserver(Z=>{var U;w&&(n(19,h.w=Z[0].contentRect.width,h),n(19,h.h=Z[0].contentRect.height,h),n(7,f=h.w<769),b()||E==null||E(),(U=l.onResize)==null||U.call(l,h.el,m)),w=!0});return S.observe(v),{destroy(){var Z;S.disconnect(),globalThis.removeEventListener("keydown",ne),Je.set(!1),o.classList.remove("bp-lock"),(Z=l.onClosed)==null||Z.call(l)}}},Le=v=>n(9,d=v.target),ye=function(v){v.button!==2&&v.target===this&&d===this&&!l.noClose&&$()};return t.$$set=v=>{"items"in v&&n(0,i=v.items),"target"in v&&n(15,s=v.target)},t.$$.update=()=>{var v;t.$$.dirty[0]&786545&&i&&(n(6,m=i[a]),u&&((v=l.onUpdate)==null||v.call(l,h.el,m)))},[i,$,D,B,a,l,m,f,_,d,r,y,le,Q,ee,s,se,X,u,h,Le,ye]}class rr extends Xe{constructor(e){super(),Ye(this,e,nr,tr,ge,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}get target(){return this.$$.ctx[15]}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function ir(t){return new rr({...t,props:t})}var sr=Ae('<div class="loading-spinner svelte-12y9vda"><div style="--i: 0" class="svelte-12y9vda"></div> <div style="--i: 1" class="svelte-12y9vda"></div> <div style="--i: 2" class="svelte-12y9vda"></div> <div style="--i: 3" class="svelte-12y9vda"></div> <div style="--i: 4" class="svelte-12y9vda"></div></div>'),or=Ae('<img alt="some alt text" class="svelte-12y9vda">'),lr=Ae('<source sizes="(max-width:2160px) 800px, (max-width:1920px) 600px, (max-width:768px) 200px" class="svelte-12y9vda">'),ar=Ae('<picture class="svelte-12y9vda"><!> <img alt="some alt text" class="svelte-12y9vda"></picture>'),ur=Ae('<a class="image-link svelte-12y9vda" target="_blank"><!></a>'),cr=Ae(`<h1 class="svelte-12y9vda">Photography</h1> <p class="svelte-12y9vda">Mid 2024, I got a Nikon D3400 for myself. Photography has always been one of
  those "I wish I could do that" type of hobbies. For a while I had been experimenting with my
  iPhone 14 Pro, which has a pretty good camera by today's standards; but it still didn't feel
  like the real thing. I wanted an interchangable-lens type of camera.</p> <p class="svelte-12y9vda">Now that I have it, here are my experiments.</p> <!> <section id="photos" class="svelte-12y9vda"></section>`,1);function hr(t,e){wn(e,!0);let n=Ke(Et([])),r=Ke(!0);const i=Object.assign({"/src/lib/assets/photos/DSC_0656.jpg":()=>V(()=>import("../chunks/DSC_0656.C1R8-dOY.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_0787.jpg":()=>V(()=>import("../chunks/DSC_0787.kKsCOupi.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1014.jpg":()=>V(()=>import("../chunks/DSC_1014.BcBOBMBn.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1110.jpg":()=>V(()=>import("../chunks/DSC_1110.BoKYjbMZ.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1128.jpg":()=>V(()=>import("../chunks/DSC_1128.BhCnamWG.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1132.jpg":()=>V(()=>import("../chunks/DSC_1132.Bw1SmA4T.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1159.jpg":()=>V(()=>import("../chunks/DSC_1159.BWSAKWHS.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1169.jpg":()=>V(()=>import("../chunks/DSC_1169.DuXOX4pG.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1179.jpg":()=>V(()=>import("../chunks/DSC_1179.D0iHWMFU.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1180.jpg":()=>V(()=>import("../chunks/DSC_1180.BVXE-Ydm.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1193.jpg":()=>V(()=>import("../chunks/DSC_1193.nsMweZQy.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1196.jpg":()=>V(()=>import("../chunks/DSC_1196.imleSogM.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1253.jpg":()=>V(()=>import("../chunks/DSC_1253.BbQRot0N.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1383.jpg":()=>V(()=>import("../chunks/DSC_1383.tNu5UKwz.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1560.jpg":()=>V(()=>import("../chunks/DSC_1560.Z2Cu9OIK.js"),[],import.meta.url)});let s;En(()=>{(async function(){let c=[];for(let d in i){let m=i[d],b=await m();c.push({fullImage:b.default.img,enhanced:b.default})}Ue(n,Et(c)),Ue(r,!1),s=ir({target:document.body})})()});function o(c){c.preventDefault();let d=document.querySelectorAll("#photos .image-link");s.open({items:d,el:c.currentTarget??void 0})}var a=cr(),l=In(a),u=te(te(l,!0)),p=te(te(u,!0)),f=te(te(p,!0));It(f,()=>N(r),c=>{var d=sr();ke(c,d)});var _=te(te(f,!0));At(_,21,()=>N(n),St,(c,d)=>{var m=ur();m.__click=o;var b=Ct(m);It(b,()=>typeof N(d).enhanced=="string",E=>{var k=or();Be(()=>{K(k,"src",N(d).enhanced.img.src),K(k,"width",N(d).enhanced.img.w),K(k,"height",N(d).enhanced.img.h)}),ke(E,k)},E=>{var k=ar(),h=Ct(k);At(h,17,()=>Object.entries(N(d).enhanced.sources),St,(se,$)=>{let D=()=>N($)[0],B=()=>N($)[1];var X=lr();Be(()=>{K(X,"srcset",B()),K(X,"type","image/"+D())}),ke(se,X)});var y=te(te(h,!0));et(k),Be(()=>{K(y,"src",N(d).enhanced.img.src),K(y,"width",N(d).enhanced.img.w),K(y,"height",N(d).enhanced.img.h)}),ke(E,k)}),et(m),Be(()=>{K(m,"href",N(d).fullImage.src),K(m,"data-img",N(d).enhanced.sources.jpeg),K(m,"data-height",N(d).fullImage.h),K(m,"data-width",N(d).fullImage.w)}),ke(c,m)}),et(_),ke(t,a),Dn()}Tn(["click"]);export{hr as component};
