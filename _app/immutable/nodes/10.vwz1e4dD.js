import{p as It,i as nn,_ as V}from"../chunks/preload-helper.D6MPyRNy.js";import{a as Le,t as Ne}from"../chunks/disclose-version.CRNIhWkV.js";import{c as rn,b as sn,h as pe,e as Qe,g as on,o as ln,l as an,u as Bt,O as fn,P as Dt,s as je,f as Re,Q as qt,w as Ft,R as un,a6 as cn,y as Tt,I as rt,a7 as at,a8 as dn,a3 as pn,G as it,a9 as ft,aa as mn,t as _n,ab as hn,ac as gn,p as bn,d as vn,ad as Zt,ae as yn,af as kn,x as wn,Y as En,i as In,j as le,B as xe,z as Dn,K as Y,C as Be,a4 as qe}from"../chunks/runtime.DR9MUfrK.js";import{d as Tn}from"../chunks/events.Bkoh1spf.js";import{s as U}from"../chunks/attributes.DJ0oElpd.js";let et=null;function Ct(t,e){return e}function Cn(t,e,n,r){for(var i=[],s=e.length,o=0;o<s;o++)mn(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;_n(l),l.append(n),r.clear(),ae(t,e[0].prev,e[s-1].next)}hn(i,()=>{for(var u=0;u<s;u++){var p=e[u];a||(r.delete(p.k),ae(t,p.prev,p.next)),gn(p.e,!a)}})}function St(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&Zt)!==0;if(l){var u=t;o=pe?Qe(on(u)):u.appendChild(rn())}pe&&ln();var p=null;sn(()=>{var c=n(),m=an(c)?c:c==null?[]:Bt(c),f=m.length;let d=!1;if(pe){var h=o.data===fn;h!==(f===0)&&(o=Dt(),Qe(o),je(!1),d=!0)}if(pe){for(var v=null,k,E=0;E<f;E++){if(Re.nodeType===8&&Re.data===bn){o=Re,d=!0,je(!1);break}var _=m[E],y=r(_,E);k=Ut(Re,a,v,null,_,y,E,i,e),a.items.set(y,k),v=k}f>0&&Qe(Dt())}pe||Sn(m,a,o,i,e,r),s!==null&&(f===0?p?qt(p):p=Ft(()=>s(o)):p!==null&&un(p,()=>{p=null})),d&&je(!0)}),pe&&(o=Re)}function Sn(t,e,n,r,i,s){var ce,j,oe,x;var o=(i&kn)!==0,a=(i&(at|ft))!==0,l=t.length,u=e.items,p=e.first,c=p,m,f=null,d,h=[],v=[],k,E,_,y;if(o)for(y=0;y<l;y+=1)k=t[y],E=s(k,y),_=u.get(E),_!==void 0&&((ce=_.a)==null||ce.measure(),(d??(d=new Set)).add(_));for(y=0;y<l;y+=1){if(k=t[y],E=s(k,y),_=u.get(E),_===void 0){var te=c?c.e.nodes_start:n;f=Ut(te,e,f,f===null?e.first:f.next,k,E,y,r,i),u.set(E,f),h=[],v=[],c=f.next;continue}if(a&&An(_,k,y,i),_.e.f&cn&&(qt(_.e),o&&((j=_.a)==null||j.unfix(),(d??(d=new Set)).delete(_))),_!==c){if(m!==void 0&&m.has(_)){if(h.length<v.length){var $=v[0],D;f=$.prev;var N=h[0],Q=h[h.length-1];for(D=0;D<h.length;D+=1)At(h[D],$,n);for(D=0;D<v.length;D+=1)m.delete(v[D]);ae(e,N.prev,Q.next),ae(e,f,N),ae(e,Q,$),c=$,f=Q,y-=1,h=[],v=[]}else m.delete(_),At(_,c,n),ae(e,_.prev,_.next),ae(e,_,f===null?e.first:f.next),ae(e,f,_),f=_;continue}for(h=[],v=[];c!==null&&c.k!==E;)(m??(m=new Set)).add(c),v.push(c),c=c.next;if(c===null)continue;_=c}h.push(_),f=_,c=_.next}if(c!==null||m!==void 0){for(var B=m===void 0?[]:Bt(m);c!==null;)B.push(c),c=c.next;var ne=B.length;if(ne>0){var se=i&Zt&&l===0?n:null;if(o){for(y=0;y<ne;y+=1)(oe=B[y].a)==null||oe.measure();for(y=0;y<ne;y+=1)(x=B[y].a)==null||x.fix()}Cn(e,B,se,u)}}o&&yn(()=>{var J;if(d!==void 0)for(_ of d)(J=_.a)==null||J.apply()}),Tt.first=e.first&&e.first.e,Tt.last=f&&f.e}function An(t,e,n,r){r&at&&rt(t.v,e),r&ft?rt(t.i,n):t.i=n}function Ut(t,e,n,r,i,s,o,a,l){var u=et;try{var p=(l&at)!==0,c=(l&dn)===0,m=p?c?pn(i):it(i):i,f=l&ft?it(o):o,d={i:f,v:m,k:s,a:null,e:null,prev:n,next:r};return et=d,d.e=Ft(()=>a(t,m,f),pe),d.e.prev=n&&n.e,d.e.next=r&&r.e,n===null?e.first=d:(n.next=d,n.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{et=u}}function At(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=vn(s);i.before(s),s=o}}function ae(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function X(){}const ut=t=>t;function Pt(t,e){for(const n in e)t[n]=e[n];return t}function Kt(t){return t()}function G(t){t.forEach(Kt)}function Je(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e}function Pn(t){return Object.keys(t).length===0}function Ln(t,...e){if(t==null)return X;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function we(t,e,n){t.$$.on_destroy.push(Ln(e,n))}function Ve(t){return t&&Je(t.destroy)?t.destroy:X}let ct=()=>globalThis.performance.now(),dt=t=>requestAnimationFrame(t);const Ie=new Set;function Gt(t){Ie.forEach(e=>{e.c(t)||(Ie.delete(e),e.f())}),Ie.size!==0&&dt(Gt)}function pt(t){let e;return Ie.size===0&&dt(Gt),{promise:new Promise(n=>{Ie.add(e={c:t,f:n})}),abort(){Ie.delete(e)}}}function De(t,e){t.appendChild(e)}function z(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode.removeChild(t)}function O(t){return document.createElement(t)}function Rn(t){return document.createTextNode(t)}function $e(){return Rn("")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function L(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n)}function W(t,e,n){t.classList[n?"add":"remove"](e)}function On(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}let Ee,mt=0,st={};function Jt(t,e,n,r,i,s,o,a=0){const l=16.666/r;let u=`{
`;for(let f=0;f<=1;f+=l){const d=e+(n-e)*s(f);u+=f*100+`%{${o(d,1-d)}}
`}const p=u+`100% {${o(n,1-n)}}
}`,c=`_bp_${Math.round(Math.random()*1e9)}_${a}`;if(!st[c]){if(!Ee){const f=O("style");document.head.appendChild(f),Ee=f.sheet}st[c]=!0,Ee.insertRule(`@keyframes ${c} ${p}`,Ee.cssRules.length)}const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${c} ${r}ms linear ${i}ms 1 both`,mt+=1,c}function ot(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("_bp")===-1).join(", "),e&&!--mt&&Mn()}function Mn(){dt(()=>{if(mt)return;let t=Ee.cssRules.length;for(;t--;)Ee.deleteRule(t);st={}})}let _t;function ze(t){_t=t}const Me=[],Lt=[],Ze=[],Rt=[],zn=Promise.resolve();let lt=!1;function Hn(){lt||(lt=!0,zn.then(Qt))}function me(t){Ze.push(t)}const tt=new Set;let Fe=0;function Qt(){const t=_t;do{for(;Fe<Me.length;){const e=Me[Fe];Fe++,ze(e),$n(e.$$)}for(ze(null),Me.length=0,Fe=0;Lt.length;)Lt.pop()();for(let e=0;e<Ze.length;e+=1){const n=Ze[e];tt.has(n)||(tt.add(n),n())}Ze.length=0}while(Me.length);for(;Rt.length;)Rt.pop()();lt=!1,tt.clear(),ze(t)}function $n(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(me)}}let Oe;function jt(){return Oe||(Oe=Promise.resolve(),Oe.then(()=>{Oe=null})),Oe}function Ke(t,e,n){t.dispatchEvent(On(`${e?"intro":"outro"}${n}`))}const Ue=new Set;let fe;function _e(){fe={r:0,c:[],p:fe}}function he(){fe.r||G(fe.c),fe=fe.p}function C(t,e){t&&t.i&&(Ue.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(Ue.has(t))return;Ue.add(t),fe.c.push(()=>{Ue.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const xt={duration:0};function en(t,e,n){let r=e(t,n),i=!1,s,o,a=0;function l(){s&&ot(t,s)}function u(){const{delay:c=0,duration:m=300,easing:f=ut,tick:d=X,css:h}=r||xt;h&&(s=Jt(t,0,1,m,c,f,h,a++)),d(0,1);const v=ct()+c,k=v+m;o&&o.abort(),i=!0,me(()=>Ke(t,!0,"start")),o=pt(E=>{if(i){if(E>=k)return d(1,0),Ke(t,!0,"end"),l(),i=!1;if(E>=v){const _=f((E-v)/m);d(_,1-_)}}return i})}let p=!1;return{start(){p||(p=!0,ot(t),Je(r)?(r=r(),jt().then(u)):u())},invalidate(){p=!1},end(){i&&(l(),i=!1)}}}function Te(t,e,n){let r=e(t,n),i=!0,s;const o=fe;o.r+=1;function a(){const{delay:l=0,duration:u=300,easing:p=ut,tick:c=X,css:m}=r||xt;m&&(s=Jt(t,1,0,u,l,p,m));const f=ct()+l,d=f+u;me(()=>Ke(t,!1,"start")),pt(h=>{if(i){if(h>=d)return c(0,1),Ke(t,!1,"end"),--o.r||G(o.c),!1;if(h>=f){const v=p((h-f)/u);c(1-v,v)}}return i})}return Je(r)?jt().then(()=>{r=r(),a()}):a(),{end(l){l&&r.tick&&r.tick(1,0),i&&(s&&ot(t,s),i=!1)}}}function Se(t){t&&t.c()}function be(t,e,n,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=t.$$;i&&i.m(e,n),r||me(()=>{const l=s.map(Kt).filter(Je);o?o.push(...l):G(l),t.$$.on_mount=[]}),a.forEach(me)}function ve(t,e){const n=t.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nn(t,e){t.$$.dirty[0]===-1&&(Me.push(t),Hn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ye(t,e,n,r,i,s,o,a=[-1]){const l=_t;ze(t);const u=t.$$={fragment:null,ctx:null,props:s,update:X,not_equal:i,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:{},dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let p=!1;u.ctx=n?n(t,e.props||{},(c,m,...f)=>{const d=f.length?f[0]:m;return u.ctx&&i(u.ctx[c],u.ctx[c]=d)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](d),p&&Nn(t,c)),m}):[],u.update(),p=!0,G(u.before_update),u.fragment=r?r(u.ctx):!1,e.target&&(u.fragment&&u.fragment.c(),be(t,e.target,e.anchor,e.customElement),Qt()),ze(l)}class Xe{$destroy(){ve(this,1),this.$destroy=X}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ht(t){const e=t-1;return e*e*e+1}function ue(t,{delay:e=0,duration:n=400,easing:r=ht,x:i=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,u=a.transform==="none"?"":a.transform,p=l*(1-o);return{delay:e,duration:n,easing:r,css:(c,m)=>`
			transform: ${u} translate(${(1-c)*i}px, ${(1-c)*s}px);
			opacity: ${l-p*m}`}}const ke=[];function gt(t,e=X){let n;const r=new Set;function i(a){if(ge(t,a)&&(t=a,n)){const l=!ke.length;for(const u of r)u[1](),ke.push(u,t);if(l){for(let u=0;u<ke.length;u+=2)ke[u][0](ke[u+1]);ke.length=0}}}function s(a){i(a(t))}function o(a,l=X){const u=[a,l];return r.add(u),r.size===1&&(n=e(i)||X),a(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function tn(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(Array.isArray(t)){const r=e.map((i,s)=>tn(t[s],i));return i=>r.map(s=>s(i))}if(n==="number"){const r=e-t;return i=>t+i*r}}function Ot(t,e={}){const n=gt(t);let r,i=t;function s(o,a){if(t==null)return n.set(t=o),Promise.resolve();i=o;let l=r,u=!1,{delay:p=0,duration:c=400,easing:m=ut,interpolate:f=tn}=Pt(Pt({},e),a);if(c===0)return l&&(l.abort(),l=null),n.set(t=i),Promise.resolve();const d=ct()+p;let h;return r=pt(v=>{if(v<d)return!0;u||(h=f(t,o),typeof c=="function"&&(c=c(t,o)),u=!0),l&&(l.abort(),l=null);const k=v-d;return k>c?(n.set(t=o),!1):(n.set(t=h(m(k/c))),!0)}),r.promise}return{set:s,update:(o,a)=>s(o(i,t),a),subscribe:n.subscribe}}const Ge=gt(0);var Wt;const Vn=(Wt=globalThis.matchMedia)==null?void 0:Wt.call(globalThis,"(prefers-reduced-motion: reduce)").matches,nt=t=>({easing:ht,duration:Vn?0:t}),Ce=t=>!t.thumb||`url(${t.thumb})`,He=(t,e)=>{if(e){typeof e=="string"&&(e=JSON.parse(e));for(const n in e)t.setAttribute(n,e[n])}};function Mt(t){let e,n,r;return{c(){e=O("div"),e.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',A(e,"class","bp-load"),L(e,"background-image",Ce(t[0]))},m(i,s){z(i,e,s),r=!0},p(i,s){s&1&&L(e,"background-image",Ce(i[0]))},i(i){r||(n&&n.end(1),r=!0)},o(i){i&&(n=Te(e,ue,{duration:480})),r=!1},d(i){i&&H(e),i&&n&&n.end()}}}function zt(t){let e,n;return{c(){e=O("div"),A(e,"class","bp-load"),L(e,"background-image",Ce(t[0]))},m(r,i){z(r,e,i)},p(r,i){i&1&&L(e,"background-image",Ce(r[0]))},i(r){n||me(()=>{n=en(e,ue,{duration:480}),n.start()})},o:X,d(r){r&&H(e)}}}function Yn(t){let e,n,r=!t[1]&&Mt(t),i=t[2]&&zt(t);return{c(){r&&r.c(),e=$e(),i&&i.c(),n=$e()},m(s,o){r&&r.m(s,o),z(s,e,o),i&&i.m(s,o),z(s,n,o)},p(s,[o]){s[1]?r&&(_e(),R(r,1,1,()=>{r=null}),he()):r?(r.p(s,o),o&2&&C(r,1)):(r=Mt(s),r.c(),C(r,1),r.m(e.parentNode,e)),s[2]?i?(i.p(s,o),o&4&&C(i,1)):(i=zt(s),i.c(),C(i,1),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(s){C(r),C(i)},o(s){R(r)},d(s){r&&r.d(s),s&&H(e),i&&i.d(s),s&&H(n)}}}function Xn(t,e,n){let r;we(t,Ge,o=>n(2,r=o));let{activeItem:i}=e,{loaded:s}=e;return t.$$set=o=>{"activeItem"in o&&n(0,i=o.activeItem),"loaded"in o&&n(1,s=o.loaded)},[i,s,r]}class bt extends Xe{constructor(e){super(),Ye(this,e,Xn,Yn,ge,{activeItem:0,loaded:1})}}function Ht(t){let e,n,r,i,s,o;return{c(){e=O("img"),A(e,"sizes",n=t[8].sizes||`${t[1]}px`),A(e,"alt",t[7].alt)},m(a,l){z(a,e,l),i=!0,s||(o=[Ve(t[21].call(null,e)),K(e,"error",t[27])],s=!0)},p(a,l){(!i||l[0]&2&&n!==(n=a[8].sizes||`${a[1]}px`))&&A(e,"sizes",n)},i(a){i||(r&&r.end(1),i=!0)},o(a){r=Te(e,ue,{}),i=!1},d(a){a&&H(e),a&&r&&r.end(),s=!1,G(o)}}}function $t(t){let e,n;return e=new bt({props:{activeItem:t[7],loaded:t[2]}}),{c(){Se(e.$$.fragment)},m(r,i){be(e,r,i),n=!0},p(r,i){const s={};i[0]&4&&(s.loaded=r[2]),e.$set(s)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ve(e,r)}}}function Wn(t){let e,n,r,i=`translate3d(${t[0][0]/-2+t[6][0]}px, ${t[0][1]/-2+t[6][1]}px, 0)`,s,o,a,l=t[2]&&Ht(t),u=t[3]&&$t(t);return{c(){e=O("div"),n=O("div"),l&&l.c(),r=$e(),u&&u.c(),A(n,"class","bp-img"),L(n,"width",t[0][0]+"px"),L(n,"height",t[0][1]+"px"),W(n,"bp-drag",t[4]),W(n,"bp-canzoom",t[11]>1&&t[0][0]<t[12]),L(n,"background-image",Ce(t[7])),L(n,"transform",i),A(e,"class","bp-img-wrap"),W(e,"bp-close",t[5])},m(p,c){z(p,e,c),De(e,n),l&&l.m(n,null),De(n,r),u&&u.m(n,null),s=!0,o||(a=[Ve(t[20].call(null,n)),K(e,"wheel",t[15]),K(e,"pointerdown",t[16]),K(e,"pointermove",t[17]),K(e,"pointerup",t[19]),K(e,"pointercancel",t[18])],o=!0)},p(p,c){p[2]?l?(l.p(p,c),c[0]&4&&C(l,1)):(l=Ht(p),l.c(),C(l,1),l.m(n,r)):l&&(_e(),R(l,1,1,()=>{l=null}),he()),p[3]?u?(u.p(p,c),c[0]&8&&C(u,1)):(u=$t(p),u.c(),C(u,1),u.m(n,null)):u&&(_e(),R(u,1,1,()=>{u=null}),he()),(!s||c[0]&1)&&L(n,"width",p[0][0]+"px"),(!s||c[0]&1)&&L(n,"height",p[0][1]+"px"),(!s||c[0]&16)&&W(n,"bp-drag",p[4]),(!s||c[0]&6145)&&W(n,"bp-canzoom",p[11]>1&&p[0][0]<p[12]),c[0]&65&&i!==(i=`translate3d(${p[0][0]/-2+p[6][0]}px, ${p[0][1]/-2+p[6][1]}px, 0)`)&&L(n,"transform",i),(!s||c[0]&32)&&W(e,"bp-close",p[5])},i(p){s||(C(l),C(u),s=!0)},o(p){R(l),R(u),s=!1},d(p){p&&H(e),l&&l.d(),u&&u.d(),o=!1,G(a)}}}function Bn(t,e,n){let r,i,s,o;we(t,Ge,g=>n(26,s=g));let{props:a}=e,{smallScreen:l}=e,{activeItem:u,opts:p,prev:c,next:m,zoomed:f,container:d}=a;we(t,f,g=>n(25,r=g));let h=u.maxZoom||p.maxZoom||10,v=a.calculateDimensions(u),k=v[0],E,_,y,te,$=0,D,N,Q,B,ne,se,ce;const j=+u.width,oe=[],x=new Map,J=Ot(v,nt(400));we(t,J,g=>n(0,o=g));const ee=Ot([0,0],nt(400));we(t,ee,g=>n(6,i=g));const Ae=([g,T],P=o)=>{const I=(P[0]-d.w)/2,M=(P[1]-d.h)/2;return I<0?g=0:g>I?l?(g=D?I+(g-I)/10:I,g>I+20&&n(4,D=c())):g=I:g<-I&&(l?(g=D?-I-(-I-g)/10:-I,g<-I-20&&n(4,D=m())):g=-I),M<0?T=0:T>M?T=M:T<-M&&(T=-M),[g,T]};function ye(g=h,T){if(s)return;const P=v[0]*h;let I=o[0]+o[0]*g,M=o[1]+o[1]*g;if(g>0)I>P&&(I=P,M=v[1]*h),I>j&&(I=j,M=+u.height);else if(I<v[0])return J.set(v),ee.set([0,0]);let{x:ie,y:Pe,width:vt,height:yt}=te.getBoundingClientRect();const kt=T?T.clientX-ie-vt/2:0,wt=T?T.clientY-Pe-yt/2:0;ie=-kt*(I/vt)+kt,Pe=-wt*(M/yt)+wt;const Et=[I,M];J.set(Et).then(()=>{n(1,k=Math.round(Math.max(k,I)))}),ee.set(Ae([i[0]+ie,i[1]+Pe],Et))}Object.defineProperty(u,"zoom",{configurable:!0,get:()=>r,set:g=>ye(g?h:-h)});const b=g=>{p.inline&&!r||(g.preventDefault(),ye(g.deltaY/-300,g))},w=g=>{g.button!==2&&(g.preventDefault(),n(4,D=!0),x.set(g.pointerId,g),Q=g.clientX,B=g.clientY,ne=i[0],se=i[1])},S=g=>{var I;if(x.size>1)return n(4,D=!1),((I=p.noPinch)==null?void 0:I.call(p,d.el))||q(g);if(!D)return;let T=g.clientX,P=g.clientY;N=oe.push({x:T,y:P})>2,T=T-Q,P=P-B,r||(P<-90&&n(4,D=!p.noClose&&a.close()),Math.abs(P)<30&&(T>40&&n(4,D=c()),T<-40&&n(4,D=m()))),r&&N&&!s&&ee.set(Ae([ne+T,se+P]),{duration:0})},q=g=>{const[T,P]=x.set(g.pointerId,g).values(),I=T.clientX-P.clientX,M=T.clientY-P.clientY,ie=Math.hypot(I,M);y=y||{clientX:(T.clientX+P.clientX)/2,clientY:(T.clientY+P.clientY)/2},ye((($||ie)-ie)/-35,y),$=ie},F=g=>x.delete(g.pointerId);function Z(g){var T;if(F(g),y&&(n(4,D=$=0),y=x.size?y:null),!!D){if(n(4,D=!1),g.target===this&&!p.noClose)return a.close();if(N){const[P,I,M]=oe.slice(-3),ie=I.x-M.x,Pe=I.y-M.y;Math.hypot(ie,Pe)>5&&ee.set(Ae([i[0]-(P.x-M.x)*5,i[1]-(P.y-M.y)*5]))}else(T=p.onImageClick)!=null&&T.call(p,d.el,u)||ye(r?-h:h,g);N=!1,oe.length=0}}const de=g=>{te=g,a.setResizeFunc(()=>{n(24,v=a.calculateDimensions(u)),(p.inline||!l)&&(J.set(v),ee.set([0,0]))}),a.loadImage(u).then(()=>{n(2,E=!0),a.preloadNext()}),setTimeout(()=>{n(3,_=!E)},250)},re=g=>{He(g,u.attr),g.srcset=u.img},We=g=>{var T;return(T=p.onError)==null?void 0:T.call(p,d,u,g)};return t.$$set=g=>{"smallScreen"in g&&n(23,l=g.smallScreen)},t.$$.update=()=>{if(t.$$.dirty[0]&16777217&&f.set(o[0]-10>v[0]),t.$$.dirty[0]&117440512&&s&&r&&!p.intro){const g=nt(480);ee.set([0,0],g),J.set(v,g),n(5,ce=!0)}},[o,k,E,_,D,ce,i,u,p,f,d,h,j,J,ee,b,w,S,F,Z,de,re,a,l,v,r,s,We]}class qn extends Xe{constructor(e){super(),Ye(this,e,Bn,Wn,ge,{props:22,smallScreen:23},null,[-1,-1])}}function Fn(t){let e,n,r,i,s,o;return r=new bt({props:{activeItem:t[2],loaded:t[0]}}),{c(){e=O("div"),n=O("iframe"),Se(r.$$.fragment),A(n,"allow","autoplay; fullscreen"),A(n,"title",t[2].title),A(e,"class","bp-if"),L(e,"width",t[1][0]+"px"),L(e,"height",t[1][1]+"px")},m(a,l){z(a,e,l),De(e,n),be(r,e,null),i=!0,s||(o=[Ve(t[3].call(null,n)),K(n,"load",t[5])],s=!0)},p(a,[l]){const u={};l&1&&(u.loaded=a[0]),r.$set(u),(!i||l&2)&&L(e,"width",a[1][0]+"px"),(!i||l&2)&&L(e,"height",a[1][1]+"px")},i(a){i||(C(r.$$.fragment,a),i=!0)},o(a){R(r.$$.fragment,a),i=!1},d(a){a&&H(e),ve(r),s=!1,G(o)}}}function Zn(t,e,n){let{props:r}=e,i,s;const{activeItem:o}=r,a=()=>n(1,s=r.calculateDimensions(o));return a(),r.setResizeFunc(a),[i,s,o,p=>{He(p,o.attr),p.src=o.iframe},r,()=>n(0,i=!0)]}class Un extends Xe{constructor(e){super(),Ye(this,e,Zn,Fn,ge,{props:4})}}function Kn(t){let e,n,r,i,s;return n=new bt({props:{activeItem:t[2],loaded:t[0]}}),{c(){e=O("div"),Se(n.$$.fragment),A(e,"class","bp-vid"),L(e,"width",t[1][0]+"px"),L(e,"height",t[1][1]+"px"),L(e,"background-image",Ce(t[2]))},m(o,a){z(o,e,a),be(n,e,null),r=!0,i||(s=Ve(t[3].call(null,e)),i=!0)},p(o,[a]){const l={};a&1&&(l.loaded=o[0]),n.$set(l),(!r||a&2)&&L(e,"width",o[1][0]+"px"),(!r||a&2)&&L(e,"height",o[1][1]+"px")},i(o){r||(C(n.$$.fragment,o),r=!0)},o(o){R(n.$$.fragment,o),r=!1},d(o){o&&H(e),ve(n),i=!1,s()}}}function Gn(t,e,n){let{props:r}=e,i,s;const{activeItem:o,opts:a,container:l}=r,u=()=>n(1,s=r.calculateDimensions(o));return u(),r.setResizeFunc(u),[i,s,o,c=>{let m;const f=(d,h)=>{var v;Array.isArray(h)||(h=JSON.parse(h));for(const k of h){m||(m=document.createElement((v=k.type)!=null&&v.includes("audio")?"audio":"video"),He(m,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}),He(m,o.attr));const E=document.createElement(d);He(E,k),d=="source"&&(E.onError=_=>{var y;return(y=a.onError)==null?void 0:y.call(a,l,o,_)}),m.append(E)}};f("source",o.sources),f("track",o.tracks||[]),m.oncanplay=()=>n(0,i=!0),c.append(m)},r]}class Jn extends Xe{constructor(e){super(),Ye(this,e,Gn,Kn,ge,{props:4})}}function Nt(t){let e,n,r,i=t[6].i,s,o,a,l,u,p,c=Yt(t),m=t[0].length>1&&Xt(t);return{c(){e=O("div"),n=O("div"),c.c(),s=O("div"),o=O("button"),m&&m.c(),A(o,"class","bp-x"),A(o,"title","Close"),A(o,"aria-label","Close"),A(s,"class","bp-controls"),A(e,"class","bp-wrap"),W(e,"bp-zoomed",t[10]),W(e,"bp-inline",t[8]),W(e,"bp-small",t[7]),W(e,"bp-noclose",t[5].noClose)},m(f,d){z(f,e,d),De(e,n),c.m(e,null),De(e,s),De(s,o),m&&m.m(s,null),l=!0,u||(p=[K(o,"click",t[1]),Ve(t[14].call(null,e))],u=!0)},p(f,d){d[0]&64&&ge(i,i=f[6].i)?(_e(),R(c,1,1,X),he(),c=Yt(f),c.c(),C(c,1),c.m(e,s)):c.p(f,d),f[0].length>1?m?m.p(f,d):(m=Xt(f),m.c(),m.m(s,null)):m&&(m.d(1),m=null),(!l||d[0]&1024)&&W(e,"bp-zoomed",f[10]),(!l||d[0]&256)&&W(e,"bp-inline",f[8]),(!l||d[0]&128)&&W(e,"bp-small",f[7]),(!l||d[0]&32)&&W(e,"bp-noclose",f[5].noClose)},i(f){l||(r&&r.end(1),C(c),a&&a.end(1),l=!0)},o(f){f&&(r=Te(n,ue,{duration:480})),R(c),f&&(a=Te(s,ue,{})),l=!1},d(f){f&&H(e),f&&r&&r.end(),c.d(f),m&&m.d(),f&&a&&a.end(),u=!1,G(p)}}}function Qn(t){let e,n=(t[6].html??t[6].element.outerHTML)+"";return{c(){e=O("div"),A(e,"class","bp-html")},m(r,i){z(r,e,i),e.innerHTML=n},p(r,i){i[0]&64&&n!==(n=(r[6].html??r[6].element.outerHTML)+"")&&(e.innerHTML=n)},i:X,o:X,d(r){r&&H(e)}}}function jn(t){let e,n;return e=new Un({props:{props:t[13]()}}),{c(){Se(e.$$.fragment)},m(r,i){be(e,r,i),n=!0},p:X,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ve(e,r)}}}function xn(t){let e,n;return e=new Jn({props:{props:t[13]()}}),{c(){Se(e.$$.fragment)},m(r,i){be(e,r,i),n=!0},p:X,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ve(e,r)}}}function er(t){let e,n;return e=new qn({props:{props:t[13](),smallScreen:t[7]}}),{c(){Se(e.$$.fragment)},m(r,i){be(e,r,i),n=!0},p(r,i){const s={};i[0]&128&&(s.smallScreen=r[7]),e.$set(s)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ve(e,r)}}}function Vt(t){let e,n=t[6].caption+"",r,i;return{c(){e=O("div"),A(e,"class","bp-cap")},m(s,o){z(s,e,o),e.innerHTML=n,i=!0},p(s,o){(!i||o[0]&64)&&n!==(n=s[6].caption+"")&&(e.innerHTML=n)},i(s){i||(r&&r.end(1),i=!0)},o(s){r=Te(e,ue,{duration:200}),i=!1},d(s){s&&H(e),s&&r&&r.end()}}}function Yt(t){let e,n,r,i,s,o,a,l,u;const p=[er,xn,jn,Qn],c=[];function m(d,h){return d[6].img?0:d[6].sources?1:d[6].iframe?2:3}n=m(t),r=c[n]=p[n](t);let f=t[6].caption&&Vt(t);return{c(){e=O("div"),r.c(),f&&f.c(),o=$e(),A(e,"class","bp-inner")},m(d,h){z(d,e,h),c[n].m(e,null),f&&f.m(d,h),z(d,o,h),a=!0,l||(u=[K(e,"pointerdown",t[20]),K(e,"pointerup",t[21])],l=!0)},p(d,h){let v=n;n=m(d),n===v?c[n].p(d,h):(_e(),R(c[v],1,1,()=>{c[v]=null}),he(),r=c[n],r?r.p(d,h):(r=c[n]=p[n](d),r.c()),C(r,1),r.m(e,null)),d[6].caption?f?(f.p(d,h),h[0]&64&&C(f,1)):(f=Vt(d),f.c(),C(f,1),f.m(o.parentNode,o)):f&&(_e(),R(f,1,1,()=>{f=null}),he())},i(d){a||(C(r),me(()=>{s&&s.end(1),i=en(e,t[12],!0),i.start()}),C(f),a=!0)},o(d){R(r),i&&i.invalidate(),s=Te(e,t[12],!1),R(f),a=!1},d(d){d&&H(e),c[n].d(),d&&s&&s.end(),f&&f.d(d),d&&H(o),l=!1,G(u)}}}function Xt(t){let e,n=`${t[4]+1} / ${t[0].length}`,r,i,s,o;return{c(){e=O("div"),r=O("button"),i=O("button"),A(e,"class","bp-count"),A(r,"class","bp-prev"),A(r,"title","Previous"),A(r,"aria-label","Previous"),A(i,"class","bp-next"),A(i,"title","Next"),A(i,"aria-label","Next")},m(a,l){z(a,e,l),e.innerHTML=n,z(a,r,l),z(a,i,l),s||(o=[K(r,"click",t[2]),K(i,"click",t[3])],s=!0)},p(a,l){l[0]&17&&n!==(n=`${a[4]+1} / ${a[0].length}`)&&(e.innerHTML=n)},d(a){a&&H(e),a&&H(r),a&&H(i),s=!1,G(o)}}}function tr(t){let e,n,r=t[0]&&Nt(t);return{c(){r&&r.c(),e=$e()},m(i,s){r&&r.m(i,s),z(i,e,s),n=!0},p(i,s){i[0]?r?(r.p(i,s),s[0]&1&&C(r,1)):(r=Nt(i),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(_e(),R(r,1,1,()=>{r=null}),he())},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){r&&r.d(i),i&&H(e)}}}function nr(t,e,n){let r,{items:i=void 0}=e,{target:s=void 0}=e;const o=document.documentElement;let a,l,u,p,c,m,f,d,h;const v=()=>!h.img&&!h.sources&&!h.iframe;let k;const E=b=>k=b,_={},y=gt(0);we(t,y,b=>n(10,r=b));const te=b=>{n(5,l=b),n(8,m=l.inline),!m&&o.scrollHeight>o.clientHeight&&o.classList.add("bp-lock"),p=document.activeElement,n(19,_.w=s.offsetWidth,_),n(19,_.h=s===document.body?globalThis.innerHeight:s.clientHeight,_),n(7,c=_.w<769),n(4,a=l.position||0),n(0,i=[]);for(let w=0;w<(l.items.length||1);w++){let S=l.items[w]||l.items;"dataset"in S?i.push({element:S,i:w,...S.dataset}):(S.i=w,i.push(S),S=S.element),l.el&&l.el===S&&n(4,a=w)}},$=()=>{var b;(b=l.onClose)==null||b.call(l,_.el,h),Ge.set(!0),n(0,i=null),p==null||p.focus({preventScroll:!0})},D=()=>Q(a-1),N=()=>Q(a+1),Q=b=>{f=b-a,n(4,a=B(b))},B=b=>(b+i.length)%i.length,ne=b=>{const{key:w,shiftKey:S}=b;if(w==="Escape")!l.noClose&&$();else if(w==="ArrowRight")N();else if(w==="ArrowLeft")D();else if(w==="Tab"){const{activeElement:q}=document;if(S||!q.controls){b.preventDefault();const{focusWrap:F=_.el}=l,Z=[...F.querySelectorAll("*")].filter(re=>re.tabIndex>=0);let de=Z.indexOf(q);de+=Z.length+(S?-1:1),Z[de%Z.length].focus()}}},se=({width:b=1920,height:w=1080})=>{const{scale:S=.99}=l,q=Math.min(1,_.w/b*S,_.h/w*S);return[Math.round(b*q),Math.round(w*q)]},ce=()=>{if(i){const b=i[B(a+1)],w=i[B(a-1)];!b.preload&&j(b),!w.preload&&j(w)}},j=b=>{if(b.img){const w=document.createElement("img");return w.sizes=l.sizes||`${se(b)[0]}px`,w.srcset=b.img,b.preload=!0,w.decode().catch(S=>{})}},oe=(b,w)=>!u||!i?(n(18,u=w),l.intro?ue(b,{y:w?10:-10}):x(b)):ue(b,{x:(f>0?20:-20)*(w?1:-1),duration:250}),x=b=>{let w;if(v()){const re=b.firstChild.firstChild;w=[re.clientWidth,re.clientHeight]}else w=se(h);const S=(h.element||p).getBoundingClientRect(),q=S.left-(_.w-S.width)/2,F=S.top-(_.h-S.height)/2,Z=S.width/w[0],de=S.height/w[1];return{duration:480,easing:ht,css:(re,We)=>`transform:translate3d(${q*We}px, ${F*We}px, 0) scale3d(${Z+re*(1-Z)}, ${de+re*(1-de)}, 1)`}},J=()=>({activeItem:h,calculateDimensions:se,loadImage:j,preloadNext:ce,opts:l,prev:D,next:N,close:$,setResizeFunc:E,zoomed:y,container:_}),ee=b=>{var q;n(19,_.el=b,_);let w;(q=l.onOpen)==null||q.call(l,_.el,h),m||globalThis.addEventListener("keydown",ne);const S=new ResizeObserver(F=>{var Z;w&&(n(19,_.w=F[0].contentRect.width,_),n(19,_.h=F[0].contentRect.height,_),n(7,c=_.w<769),v()||k==null||k(),(Z=l.onResize)==null||Z.call(l,_.el,h)),w=!0});return S.observe(b),{destroy(){var F;S.disconnect(),globalThis.removeEventListener("keydown",ne),Ge.set(!1),o.classList.remove("bp-lock"),(F=l.onClosed)==null||F.call(l)}}},Ae=b=>n(9,d=b.target),ye=function(b){b.button!==2&&b.target===this&&d===this&&!l.noClose&&$()};return t.$$set=b=>{"items"in b&&n(0,i=b.items),"target"in b&&n(15,s=b.target)},t.$$.update=()=>{var b;t.$$.dirty[0]&786545&&i&&(n(6,h=i[a]),u&&((b=l.onUpdate)==null||b.call(l,_.el,h)))},[i,$,D,N,a,l,h,c,m,d,r,y,oe,J,ee,s,te,Q,u,_,Ae,ye]}class rr extends Xe{constructor(e){super(),Ye(this,e,nr,tr,ge,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}get target(){return this.$$.ctx[15]}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function ir(t){return new rr({...t,props:t})}var sr=Ne('<img alt="some alt text" class="svelte-y0gfn3">'),or=Ne('<source sizes="(max-width:2160px) 800px, (max-width:1920px) 600px, (max-width:768px) 200px">'),lr=Ne('<picture><!> <img alt="some alt text" class="svelte-y0gfn3"></picture>'),ar=Ne('<a class="image-link" target="_blank"><!></a>'),fr=Ne(`<h1>Photography</h1> <p>Mid 2024, I got a Nikon D3400 for myself. Photography has always been one of
  those "I wish I could do that" type of hobbies. For a while I had been experimenting with my
  iPhone 14 Pro, which has a pretty good camera by today's standards; but it still didn't feel
  like the real thing. I wanted an interchangable-lens type of camera.</p> <p>Now that I have it, here are my experiments.</p> <section id="photos" class="svelte-y0gfn3"><div></div></section>`,1);function _r(t,e){wn(e,!0);let n=it(It([]));const r=Object.assign({"/src/lib/assets/photos/DSC_0656.jpg":()=>V(()=>import("../chunks/DSC_0656.C1R8-dOY.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_0787.jpg":()=>V(()=>import("../chunks/DSC_0787.kKsCOupi.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1014.jpg":()=>V(()=>import("../chunks/DSC_1014.BcBOBMBn.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1110.jpg":()=>V(()=>import("../chunks/DSC_1110.BoKYjbMZ.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1128.jpg":()=>V(()=>import("../chunks/DSC_1128.BhCnamWG.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1132.jpg":()=>V(()=>import("../chunks/DSC_1132.Bw1SmA4T.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1159.jpg":()=>V(()=>import("../chunks/DSC_1159.BWSAKWHS.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1169.jpg":()=>V(()=>import("../chunks/DSC_1169.DuXOX4pG.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1179.jpg":()=>V(()=>import("../chunks/DSC_1179.D0iHWMFU.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1180.jpg":()=>V(()=>import("../chunks/DSC_1180.BVXE-Ydm.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1193.jpg":()=>V(()=>import("../chunks/DSC_1193.nsMweZQy.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1196.jpg":()=>V(()=>import("../chunks/DSC_1196.imleSogM.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1253.jpg":()=>V(()=>import("../chunks/DSC_1253.BbQRot0N.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1383.jpg":()=>V(()=>import("../chunks/DSC_1383.tNu5UKwz.js"),[],import.meta.url),"/src/lib/assets/photos/DSC_1560.jpg":()=>V(()=>import("../chunks/DSC_1560.Z2Cu9OIK.js"),[],import.meta.url)});let i;En(async()=>{let m=[];for(let f in r){let d=r[f],h=await d();m.push({fullImage:h.default.img,enhanced:h.default})}rt(n,It(m)),i=ir({target:document.body})});function s(m){m.preventDefault();let f=document.querySelectorAll("#photos .image-link");i.open({items:f,el:m.currentTarget})}var o=fr(),a=In(o),l=le(le(a,!0)),u=le(le(l,!0)),p=le(le(u,!0)),c=xe(p);St(c,21,()=>Y(n),Ct,(m,f)=>{var d=ar();d.__click=s;var h=xe(d);nn(h,()=>typeof Y(f).enhanced=="string",v=>{var k=sr();qe(()=>{U(k,"src",Y(f).enhanced.img.src),U(k,"width",Y(f).enhanced.img.w),U(k,"height",Y(f).enhanced.img.h)}),Le(v,k)},v=>{var k=lr(),E=xe(k);St(E,17,()=>Object.entries(Y(f).enhanced.sources),Ct,(y,te)=>{let $=()=>Y(te)[0],D=()=>Y(te)[1];var N=or();qe(()=>{U(N,"srcset",D()),U(N,"type","image/"+$())}),Le(y,N)});var _=le(le(E,!0));Be(k),qe(()=>{U(_,"src",Y(f).enhanced.img.src),U(_,"width",Y(f).enhanced.img.w),U(_,"height",Y(f).enhanced.img.h)}),Le(v,k)}),Be(d),qe(()=>{U(d,"href",Y(f).fullImage.src),U(d,"data-img",Y(f).enhanced.sources.jpeg),U(d,"data-height",Y(f).fullImage.h),U(d,"data-width",Y(f).fullImage.w)}),Le(m,d)}),Be(c),Be(p),Le(t,o),Dn()}Tn(["click"]);export{_r as component};
