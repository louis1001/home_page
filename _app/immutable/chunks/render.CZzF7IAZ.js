import{c as D,m as v,g as I,a as L,d as O,n as m,s as l,e as R,o as V,f as u,p as b,q as H,r as Y,t as M,u as $,v as k,w as q,x as z,h as p,y as C,z as P,A as W}from"./runtime.DR9MUfrK.js";import{a as j,r as A,h}from"./events.Bkoh1spf.js";import{r as B}from"./svelte-head.ROcOPRxv.js";import{b as F}from"./disclose-version.CRNIhWkV.js";const G=["wheel","touchstart","touchmove","touchend","touchcancel"];function J(t){return G.includes(t)}function x(t,e){e!==(t.__t??(t.__t=t.nodeValue))&&(t.nodeValue=t.__t=e)}function K(t,e){const n=e.anchor??e.target.appendChild(D());return N(t,{...e,anchor:n})}function ee(t,e){v(),e.intro=e.intro??!1;const n=e.target,f=p,_=u;try{for(var r=I(n);r&&(r.nodeType!==8||r.data!==L);)r=O(r);if(!r)throw m;l(!0),R(r),V();const i=N(t,{...e,anchor:r});if(u===null||u.nodeType!==8||u.data!==b)throw H(),m;return l(!1),i}catch(i){if(i===m)return e.recover===!1&&Y(),v(),M(n),l(!1),K(t,e);throw i}finally{l(f),R(_),B()}}const d=new Map;function N(t,{target:e,anchor:n,props:f={},events:_,context:r,intro:i=!0}){v();var g=new Set,y=a=>{for(var o=0;o<a.length;o++){var s=a[o];if(!g.has(s)){g.add(s);var E=J(s);e.addEventListener(s,h,{passive:E});var T=d.get(s);T===void 0?(document.addEventListener(s,h,{passive:E}),d.set(s,1)):d.set(s,T+1)}}};y($(j)),A.add(y);var c=void 0,S=k(()=>(q(()=>{if(r){z({});var a=W;a.c=r}_&&(f.$$events=_),p&&F(n,null),c=t(n,f)||{},p&&(C.nodes_end=u),r&&P()}),()=>{for(var a of g){e.removeEventListener(a,h);var o=d.get(a);--o===0?(document.removeEventListener(a,h),d.delete(a)):d.set(a,o)}A.delete(y),w.delete(c)}));return w.set(c,S),c}let w=new WeakMap;function te(t){const e=w.get(t);e==null||e()}export{ee as h,K as m,x as s,te as u};
